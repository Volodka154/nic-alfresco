<!-- Share configuration related to this particular Share module extension, such as:
     - Doclib action config
     - Form config
     - Aspect and Type config

    Note. Any configuration related to the whole Share.war webapp
           (i.e. not specific to this share extension) should be
            placed in the environment specific config:
             alfresco-allinone/share/src/main/resources/alfresco/web-extension/share-config-custom.xml file
     -->
<alfresco-config>
    <!-- Form customization for whitepaper -->

    <config evaluator="model-type" condition="btl-project:projectDataType">
        <forms>
            <form>
                <create-form template="/ru/btl/fpi/components/form/nicetu-project-create-form.ftl"/>
                <field-visibility>
                    <show id="btl-project:state"/>

                    <show id="btl-project:shortName"/>
                    <show id="btl-project:description"/>

                    <show id="btl-project:projectManager"/>
                    <show id="btl-project-aspect:author" force="true"/>
                    <show id="btl-project-aspect:chiefDesigner" force="true"/>
                    <show id="btl-project-aspect:systemArchitect" force="true"/>
                    <show id="btl-project-aspect:systemsAnalyst" force="true"/>

                </field-visibility>
                <appearance>
                    <field id="btl-project:state" help="">
                        <control>
                            <control-param name="style">width:284px; height: 32px; padding: 6px 12px; border-radius: 4px;</control-param>
                        </control>
                    </field>

                    <field id="btl-project:shortName" label="Наименование" mandatory="true">
                        <control template="/org/alfresco/components/form/controls/textfield.ftl">
                            <control-param name="style">width:95%; height: 20px; padding: 6px 12px; border-radius: 4px;</control-param>
                        </control>
                    </field>

                    <field id="btl-project:description" label="Краткая информация о проекте">
                        <control template="/org/alfresco/components/form/controls/textarea.ftl" mandatory="true">
                            <control-param name="rows">5</control-param>
                            <control-param name="style">width:95% !important; resize: none; padding: 6px 12px; border-radius: 4px;</control-param>
                        </control>
                    </field>

                    <field id="btl-project:projectManager" mandatory="true">
                        <control template="/ru/btl/fpi/components/form/controls/btl_association.ftl">
                            <control-param name="field">btl-people:fio</control-param>
                            <control-param name="s_field">btl-people:fio</control-param>
                            <control-param name="style">width:190px; height:20px; padding: 6px 12px;</control-param>
                        </control>
                    </field>
                    <field id="btl-project-aspect:chiefDesigner" mandatory="true">
                        <control template="/ru/btl/fpi/components/form/controls/btl_association.ftl">
                            <control-param name="field">btl-people:fio</control-param>
                            <control-param name="s_field">btl-people:fio</control-param>
                            <control-param name="style">width:190px; height:20px; padding: 6px 12px;</control-param>
                        </control>
                    </field>
                    <field id="btl-project-aspect:author" mandatory="true">
                        <control template="/ru/btl/fpi/components/form/controls/btl_association.ftl">
                            <control-param name="field">btl-people:fio</control-param>
                            <control-param name="s_field">btl-people:fio</control-param>
                            <control-param name="style">width:190px; height:20px; padding: 6px 12px;</control-param>
                        </control>
                    </field>
                    <field id="btl-project-aspect:systemArchitect" mandatory="true">
                        <control template="/ru/btl/fpi/components/form/controls/btl_association.ftl">
                            <control-param name="field">btl-people:fio</control-param>
                            <control-param name="s_field">btl-people:fio</control-param>
                            <control-param name="style">width:190px; height:20px; padding: 6px 12px;</control-param>
                        </control>
                    </field>
                    <field id="btl-project-aspect:systemsAnalyst" mandatory="true">
                        <control template="/ru/btl/fpi/components/form/controls/btl_association.ftl">
                            <control-param name="field">btl-people:fio</control-param>
                            <control-param name="s_field">btl-people:fio</control-param>
                            <control-param name="style">width:190px; height:20px; padding: 6px 12px;</control-param>
                        </control>
                    </field>


                </appearance>
            </form>
        </forms>
    </config>

    <config evaluator="node-type" condition="btl-project:projectDataType">
        <forms>
            <form>
                <view-form template="/ru/btl/fpi/components/form/nicetu-project-edit-form.ftl"/>
                <edit-form template="/ru/btl/fpi/components/form/nicetu-project-edit-form.ftl"/>
                <field-visibility>
                    <show id="btl-project:state"/>
                    <show id="cm:created"/>

                    <show id="btl-project:shortName"/>
                    <show id="btl-project:description"/>

                    <show id="btl-project:projectManager"/>
                    <show id="btl-project-aspect:author" force="true"/>
                    <show id="btl-project-aspect:chiefDesigner" force="true"/>
                    <show id="btl-project-aspect:systemArchitect" force="true"/>
                    <show id="btl-project-aspect:systemsAnalyst" force="true"/>

                </field-visibility>
                <appearance>
                    <field id="btl-project:state" help="">
                        <control>
                            <control-param name="style">width:284px; height: 32px; padding: 6px 12px; border-radius: 4px;</control-param>
                        </control>
                    </field>
                    <field id="cm:created" help="">
                        <control>
                            <control-param name="style">width:190px; height: 20px; padding: 6px 12px; border-radius: 4px;</control-param>
                        </control>
                    </field>

                    <field id="btl-project:shortName" label="Наименование" mandatory="true">
                        <control template="/org/alfresco/components/form/controls/textfield.ftl">
                            <control-param name="style">width:95%; height: 20px; padding: 6px 12px; border-radius: 4px;</control-param>
                        </control>
                    </field>
                    <field id="btl-project:description" label="Краткая информация о проекте">
                        <control template="/org/alfresco/components/form/controls/textarea.ftl">
                            <control-param name="rows">5</control-param>
                            <control-param name="style">width:95% !important; resize: none; padding: 6px 12px; border-radius: 4px;</control-param>
                        </control>
                    </field>

                    <field id="btl-project:projectManager" mandatory="true">
                        <control template="/ru/btl/fpi/components/form/controls/btl_association.ftl">
                            <control-param name="field">btl-people:fio</control-param>
                            <control-param name="s_field">btl-people:fio</control-param>
                            <control-param name="style">width:190px; height:20px; padding: 6px 12px;</control-param>
                        </control>
                    </field>
                    <field id="btl-project-aspect:author" mandatory="true">
                        <control template="/ru/btl/fpi/components/form/controls/btl_association.ftl">
                            <control-param name="field">btl-people:fio</control-param>
                            <control-param name="s_field">btl-people:fio</control-param>
                            <control-param name="style">width:190px; height:20px; padding: 6px 12px;</control-param>
                        </control>
                    </field>
                    <field id="btl-project-aspect:chiefDesigner" mandatory="true">
                        <control template="/ru/btl/fpi/components/form/controls/btl_association.ftl">
                            <control-param name="field">btl-people:fio</control-param>
                            <control-param name="s_field">btl-people:fio</control-param>
                            <control-param name="style">width:190px; height:20px; padding: 6px 12px;</control-param>
                        </control>
                    </field>
                    <field id="btl-project-aspect:systemArchitect" mandatory="true">
                        <control template="/ru/btl/fpi/components/form/controls/btl_association.ftl">
                            <control-param name="field">btl-people:fio</control-param>
                            <control-param name="s_field">btl-people:fio</control-param>
                            <control-param name="style">width:190px; height:20px; padding: 6px 12px;</control-param>
                        </control>
                    </field>
                    <field id="btl-project-aspect:systemsAnalyst" mandatory="true">
                        <control template="/ru/btl/fpi/components/form/controls/btl_association.ftl">
                            <control-param name="field">btl-people:fio</control-param>
                            <control-param name="s_field">btl-people:fio</control-param>
                            <control-param name="style">width:190px; height:20px; padding: 6px 12px;</control-param>
                        </control>
                    </field>


                </appearance>

            </form>
        </forms>
    </config>


    <!-- End of Form customization for whitepaper -->
    <config evaluator="string-compare" condition="DocumentLibrary">
        <types>
            <type name="cm:content">
                <subtype name="btl-project:projectDataType"/>
            </type>
            <type name="btl-project:projectDataType"/>
        </types>
    </config>

    <!-- Add a custom page type -->
    <config evaluator="string-compare" condition="SitePages">
        <pages>
            <page id="my-projects">hdp/ws/my-projects</page>
        </pages>
    </config>

    <config evaluator="string-compare" condition="activiti$projectEdit">
        <forms>
            <form>

                <view-form template="/ru/btl/fpi/components/form/projectEditWF-form.ftl"/>
                <edit-form template="/ru/btl/fpi/components/form/projectEditWF-form.ftl"/>
                <create-form template="/ru/btl/fpi/components/form/projectEditWF-form.ftl"/>
                <field-visibility>
                    <show id="btl-projectwf:historyStage"/>
                    <show id="btl-projectwf:historyPrice"/>
                    <show id="btl-projectwf:historyStartDate"/>
                    <show id="btl-projectwf:historyEndDate"/>
                    <show id="btl-projectwf:file"/>
                    <show id="packageItems"/>
                </field-visibility>
                <appearance>
                    <field id="btl-projectwf:historyStage" help=""></field>
                    <field id="btl-projectwf:historyPrice" help=""></field>
                    <field id="btl-projectwf:historyStartDate"></field>
                    <field id="btl-projectwf:historyEndDate"></field>
                    <field id="btl-projectwf:file"></field>
                    <field id="packageItems"></field>
                </appearance>
            </form>
        </forms>
    </config>

</alfresco-config>