define(["dojo/_base/declare","alfresco/core/Core","dojo/_base/lang","btl/widgets/base/ClassicWindow"],function(b,e,d){return b([e],{i18nRequirements:[{i18nFile:"./i18n/FormContactPerson.properties"}],contactPerson:null,rootNodeRef:null,nodeRefContactor:null,constructor:function f(g){d.mixin(this,g);this.alfSubscribe("BTL_CREATE_FORM_CONTACT_PERSON",d.hitch(this,this.onCreateFormContactPerson))},onCreateFormContactPerson:function a(g){this.alfLog("log","alfresco_formContactPerson__onCreateFormContactPerson",g);this.contactPerson=g.contactPerson;this.nameOrganization=g.nameOrganization||"";this.nodeRefContactor=(typeof g.formSubmissionPayloadMixin=="undefined")?null:g.formSubmissionPayloadMixin.alf_destination;this.rootNodeRef=g.rootNodeRef;var h={};h.dialogTitle=g.config.dialogTitle;h.dialogConfirmationButtonTitle=g.config.dialogConfirmationButtonTitle;h.dialogCancellationButtonTitle=g.config.dialogCancellationButtonTitle;h.formSubmissionTopic=g.config.formSubmissionTopic;h.contentWidth="1250px";h.contentHeight="820px";h.dialogId="FORM_CONTACT_PERSON";h.widgets=this.getWidgets();this.alfLog("log","alfresco_formContactPerson__onCreateFormContactPerson",h);this.alfPublish("ALF_CREATE_FORM_DIALOG_REQUEST",h)},getWidgets:function c(){var s=[{value:"Мужской",label:"Мужской"},{value:"Женский",label:"Женский"}];var D=[];var A={name:"btl/widgets/base/TextBox",id:"btl-person_org",config:{label:"Полное название организации",name:"prop_btl-person_org",value:((this.contactPerson)?this.contactPerson.org:"")||this.nameOrganization||"",disablementConfig:{initialValue:true}}};var i={name:"btl/widgets/base/TextBox",config:{label:"btl-people_surname.title",name:"prop_btl-people_surname",style:{width:"350px"},value:(this.contactPerson)?this.contactPerson.surname:"",requirementConfig:{initialValue:true}}};var o={name:"btl/widgets/base/TextBox",id:"btl-people_firstname",config:{label:"btl-people_firstname.title",name:"prop_btl-people_firstname",style:{width:"350px"},value:(this.contactPerson)?this.contactPerson.firstname:"",requirementConfig:{initialValue:true}}};var E={name:"btl/widgets/base/TextBox",id:"btl-people_middlename",config:{label:"btl-people_middlename.title",name:"prop_btl-people_middlename",style:{width:"350px"},value:(this.contactPerson)?this.contactPerson.middlename:""}};var H={name:"btl/widgets/base/TextBox",config:{label:"btl-people_phone.title",name:"prop_btl-people_phone",style:{width:"300px"},value:(this.contactPerson)?this.contactPerson.phone:""}};var u={name:"btl/widgets/base/TextBox",config:{label:"btl-people_mobile.title",name:"prop_btl-people_mobile",style:{width:"300px"},value:(this.contactPerson)?this.contactPerson.mobile:""}};var g={name:"btl/widgets/base/TextBox",config:{label:"btl-people_email.title",name:"prop_btl-people_email",style:{width:"300px"},value:(this.contactPerson)?this.contactPerson.email:""}};var G={name:"btl/widgets/base/TextBox",config:{label:"Сайт компании",name:"prop_btl-person_site",style:{width:"300px"},value:(this.contactPerson)?this.contactPerson.site:""}};var J={name:"btl/widgets/base/Select",config:{label:"btl-people_sex.title",name:"prop_btl-people_sex",value:(this.contactPerson)?this.contactPerson.sex:"",optionsConfig:{fixed:s}}};var F={name:"btl/widgets/base/CheckBox",config:{label:"btl-person_close_choice.title",name:"prop_btl-person_close_choice",value:(this.contactPerson)?this.contactPerson.close_choice:""}};var j={name:"btl/widgets/base/CheckBox",config:{label:"btl-people_user_alfresco.title",name:"prop_btl-people_user_alfresco",value:(this.contactPerson)?this.contactPerson.user_alfresco:""}};var w={name:"btl/widgets/base/TextBox",config:{name:"rootNodeRef",value:this.rootNodeRef,visibilityConfig:{initialValue:false}}};var k={name:"btl/widgets/controlFormContactPerson/Address",config:{value:(this.contactPerson)?this.contactPerson.address:""}};var p={name:"btl/widgets/base/TextBox",config:{label:"Город",name:"prop_btl-person_city",style:{width:"300px"},value:(this.contactPerson)?this.contactPerson.city:""}};var t={name:"btl/widgets/base/TextBox",config:{label:"Район",name:"prop_btl-person_region",style:{width:"300px"},value:(this.contactPerson)?this.contactPerson.region:""}};var z={name:"btl/widgets/base/TextBox",config:{label:"Область (край, республика)",name:"prop_btl-person_oblast",style:{width:"300px"},value:(this.contactPerson)?this.contactPerson.oblast:""}};var I={name:"btl/widgets/base/TextBox",config:{label:"Должность",name:"prop_btl-person_position",style:{width:"300px"},value:(this.contactPerson)?this.contactPerson.position:""}};var h={name:"btl/widgets/base/btlChoice",id:"ASSOC_BTL_PERSON_ALFRESCO_USER",config:{name:"assoc_btl-people_user_alfresco",header:"Выбрать аккаунт пользователя Alfresco",value:(this.contactPerson)?this.contactPerson.alfrescoUser_ref:"",labelText:"Пользователь Alfresco",labelButton:"Выбрать",urlList:"/share/proxy/alfresco/filters/association",dataUrl:{type:"cm:person",s_field:"userName",field:"userName",userAlfresco:true},itemUrl:"/share/proxy/alfresco/picker/associationItem",dataItemUrl:{type:"cm:person",field:"userName"}}};var x={name:"alfresco/forms/ControlColumn",config:{widgets:[]}};var y={name:"alfresco/forms/ControlColumn",config:{style:{"margin-left":"25px"},widgets:[]}};var v={name:"alfresco/forms/ControlRow",config:{widgets:[]}};var n={name:"alfresco/forms/ControlColumn",config:{widgets:[]}};var r={name:"alfresco/forms/ControlRow",config:{widgets:[]}};var q={name:"alfresco/forms/ControlRow",config:{widgets:[]}};var C={name:"btl/widgets/base/ClassicWindow",config:{title:"",style:"width:1125px",widgets:[]}};var l={name:"btl/widgets/base/ClassicWindow",config:{title:"Контактная информация",widgets:[]}};var B={name:"btl/widgets/base/ClassicWindow",config:{widthPc:"40",title:"Дополнительная информация",widgets:[]}};var m={name:"alfresco/forms/ControlColumn",config:{widgets:[]}};if(this.contactPerson){m.config.widgets.push({name:"btl/widgets/base/TextBox",config:{name:"nodeRef",value:this.contactPerson.nodeRef,visibilityConfig:{initialValue:false}}},{name:"btl/widgets/base/TextBox",config:{name:"rowId",value:this.contactPerson.rowId,visibilityConfig:{initialValue:false}}})}else{m.config.widgets.push({name:"btl/widgets/base/TextBox",config:{name:"alf_destination",value:this.nodeRefContactor,visibilityConfig:{initialValue:false}}})}B.config.widgets.push(h,J,F);y.config.widgets.push(k,p,t,z);x.config.widgets.push(H,u,g);r.config.widgets.push(x,y);l.config.widgets.push(r);v.config.widgets.push(i,o,E);n.config.widgets.push(v,I);C.config.widgets.push(n);q.config.widgets.push(l,B);m.config.widgets.push(w,A,C,q);D.push(m);return D}})});