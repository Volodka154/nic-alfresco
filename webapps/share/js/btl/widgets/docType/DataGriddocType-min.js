define(["dojo/_base/declare","btl/widgets/base/DataGrid","dojo/_base/lang"],function(d,c,g){return d([c],{title:"Список видов документов",Url:"search/docType",colModel:[],pageModel:{type:"local",rPP:500,strRpp:"{0}",rPPOptions:[100,250,500]},postMixInProperties:function b(){this.inherited(arguments);this.alfSubscribe("DATAGRID_DELETE_DOC_TYPE",g.hitch(this,this.deletedoc_Type),true);this.alfSubscribe("DATAGRID_GET_DOC_TYPE_DATA",g.hitch(this,this.getdoc_TypeData),true)},setEventsDataGrid:function e(){var h={dataIndx:["type"],collapsed:[true,true],title:["<b style='font-weight:bold;'>{0} ({1})</b>","{0} - {1}"],dir:["up","down"]};this.grid.pqGrid("option","groupModel",h);var i=this;this.grid.pqGrid({rowDblClick:function(j,k){i.getdoc_TypeData()}})},deletedoc_Type:function f(){var h=this.grid.pqGrid("selection",{type:"row",method:"getSelection"});if(h&&h.length>0){var j=h[0].rowData;var i={};i.requiresConfirmation=true;i.confirmationTitle="Удаление вида";i.confirmationPrompt="Вы действительно хотите удалить: "+j.name+" ?";i.url="slingshot/datalists/list/node/"+j.nodeRef.replace("://","/");i.responseTopic="DATAGRID_DELETE_ROW_FROM_STORE",this.alfPublish("ALF_CRUD_DELETE",i,true);this.alfLog("log","alfresco_doc_TypeDataGrid__deletedoc_Type",j)}},getdoc_TypeData:function a(){var h=this.grid.pqGrid("selection",{type:"row",method:"getSelection"});if(h&&h.length>0){var j=h[0].rowData;var i={};i.config={};i.data=j;i.data.rowId=h[0].rowIndx;i.config.dialogTitle="Редактировать вид";i.config.dialogConfirmationButtonTitle="edit.title";i.config.dialogCancellationButtonTitle="cancel.title";i.config.formSubmissionTopic="BTL_EDIT_DOC_TYPE";this.alfPublish("BTL_CREATE_FORM_DOC_TYPE",i,true);this.alfLog("log","alfresco_doc_TypeDataGrid__getdoc_TypeData",j)}}})});