define(["dojo/_base/declare","btl/widgets/base/DataGrid","dojo/_base/lang"],function(c,a,e){return c([a],{title:"Шаблоны проектов",Url:"projects/getProjectTemplates",colModel:[],postMixInProperties:function f(){this.inherited(arguments);this.alfSubscribe("DATAGRID_DELETE_projectTemplate",e.hitch(this,this.deleteprojectTemplate),true)},deleteprojectTemplate:function b(){var g=this.grid.pqGrid("selection",{type:"row",method:"getSelection"});if(g&&g.length>0){var i=g[0].rowData;var h={};h.requiresConfirmation=true;h.confirmationTitle="Удаление шаблона";h.confirmationPrompt="Подтвердите удаление";h.url="slingshot/datalists/list/node/"+i.nodeRef.replace("://","/");h.responseTopic="DATAGRID_DELETE_ROW_FROM_STORE";this.alfPublish("ALF_CRUD_DELETE",h,true);this.alfLog("log","alfresco_projectTemplateDataGrid__deleteprojectTemplate",i)}},setEventsDataGrid:function d(){this.grid.pqGrid({rowDblClick:function(g,h){window.open("/share/page/btl-edit-metadata?nodeRef="+h.rowData.nodeRef,"_blank");require(["dojo/topic"],function(i){i.publish("ALF_DISPLAY_NOTIFICATION",{message:"Перенаправление на карточку проекта."})})}})},})});