define(["dojo/_base/declare","btl/widgets/base/DataGrid","dojo/_base/lang"],function(c,a,g){return c([a],{title:"Список должностей",Url:"search/notification",colModel:[],postMixInProperties:function f(){this.inherited(arguments);this.alfSubscribe("DATAGRID_GET_POSITION_DATA",g.hitch(this,this.getPositionData),true);this.alfSubscribe("DATAGRID_DELETE_NOTIFICATION",g.hitch(this,this.deleteItem),true)},setEventsDataGrid:function d(){var h=this;this.grid.pqGrid({rowDblClick:function(i,j){h.getPositionData()}})},deleteItem:function e(){var h=this.grid.pqGrid("selection",{type:"row",method:"getSelection"});if(h&&h.length>0){var j=h[0].rowData;var i={};i.requiresConfirmation=true;i.confirmationTitle="Удаление оповещения";i.confirmationPrompt="Вы действительно хотите удалить: "+j.title+" ?";i.url="slingshot/datalists/list/node/"+j.nodeRef.replace("://","/");i.responseTopic="DATAGRID_DELETE_ROW_FROM_STORE";this.alfPublish("ALF_CRUD_DELETE",i,true)}},getPositionData:function b(){var h=this.grid.pqGrid("selection",{type:"row",method:"getSelection"});if(h&&h.length>0){var j=h[0].rowData;var i={};i.config={};i.data=j;i.userName=(this.userName)?this.userName:"";i.data.rowId=h[0].rowIndx;i.config.dialogTitle="formEditNotification.title";i.config.dialogConfirmationButtonTitle="edit.title";i.config.dialogCancellationButtonTitle="cancel.title";i.config.formSubmissionTopic="BTL_EDIT_NOTIFICATION";this.alfPublish("BTL_CREATE_FORM_NOTIFICATION",i,true);this.alfLog("log","alfresco_PositionDataGrid__getPositionData",j)}}})});