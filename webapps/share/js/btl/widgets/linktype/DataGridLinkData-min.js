define(["dojo/_base/declare","btl/widgets/base/DataGrid","dojo/_base/lang"],function(b,a,f){return b([a],{title:"Типы ссылок",Url:"search/linkdata",colModel:[],postMixInProperties:function g(){this.inherited(arguments);this.alfSubscribe("DATAGRID_DELETE_LINK_DATA",f.hitch(this,this.deleteLinkData),true);this.alfSubscribe("DATAGRID_GET_LINK_DATA_DATA",f.hitch(this,this.getLinkDataData),true)},setEventsDataGrid:function d(){var h={dataIndx:["docType_text"],collapsed:[true,true],title:["<b style='font-weight:bold;'>{0} ({1})</b>"],dir:["up","down"]}},deleteLinkData:function e(){var h=this.grid.pqGrid("selection",{type:"row",method:"getSelection"});if(h&&h.length>0){var j=h[0].rowData;var i={};i.requiresConfirmation=true;i.confirmationTitle="Удаление ссылки";i.confirmationPrompt="Подтвердите удаление";i.url="slingshot/datalists/list/node/"+j.nodeRef.replace("://","/");i.responseTopic="DATAGRID_DELETE_ROW_FROM_STORE",this.alfPublish("ALF_CRUD_DELETE",i,true);this.alfLog("log","alfresco_LinkDataDataGrid__deleteLinkData",j)}},getLinkDataData:function c(){var h=this.grid.pqGrid("selection",{type:"row",method:"getSelection"});if(h&&h.length>0){var j=h[0].rowData;var i={};i.config={};i.data=j;i.data.rowId=h[0].rowIndx;i.config.dialogTitle="Редактировать";i.config.dialogConfirmationButtonTitle="edit.title";i.config.dialogCancellationButtonTitle="cancel.title";i.config.formSubmissionTopic="BTL_EDIT_LINK_DATA";this.alfPublish("BTL_CREATE_FORM_LINK_DATA",i,true)}}})});