define(["dojo/_base/declare","btl/widgets/base/DataGrid","dojo/_base/lang"],function(b,a,e){return b([a],{Url:"history/getAllhistoryEventCategory",colModel:[],filterModel:{on:true,mode:"AND",header:true},postMixInProperties:function d(){this.inherited(arguments)},setEventsDataGrid:function c(){document.historyEvent=this;this.grid.pqGrid({rowDblClick:function(g,h){document.historyEventRow=h;Alfresco.util.Ajax.jsonPost({url:"/share/proxy/alfresco/api/node/"+h.rowData.nodeRef.replace("://","/")+"/formprocessor",dataObj:{"prop_btl-historyEventCategory_actionOn":!h.rowData.on},successCallback:{fn:function(){document.historyEventRow.rowData.on=!document.historyEventRow.rowData.on;if(document.historyEventRow.rowData.on){document.historyEventRow.rowData.onImg="&#9745;"}else{document.historyEventRow.rowData.onImg="&#9937;"}document.historyEvent.grid.pqGrid("refreshDataAndView")}}})}})},loadDataToDataGrid:function f(h,g){h.items.forEach(function(l,k,j){if(l.on==true){h.items[k].onImg="&#9745;"}else{h.items[k].onImg="&#9937;"}});this.setDataDataGrid(h.items)}})});