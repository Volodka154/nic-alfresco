define(["dojo/_base/declare","btl/widgets/base/DataGrid","dojo/_base/lang"],function(d,b,f){return d([b],{title:"Список выходных и переносов",Url:"search/holiday",colModel:[],postMixInProperties:function a(){this.inherited(arguments);this.alfSubscribe("DATAGRID_DELETE_HOLIDAY",f.hitch(this,this.deleteHoliday),true);this.alfSubscribe("DATAGRID_GET_HOLIDAY_DATA",f.hitch(this,this.getHolidayData),true)},deleteHoliday:function e(){var g=this.grid.pqGrid("selection",{type:"row",method:"getSelection"});if(g&&g.length>0){var i=g[0].rowData;var h={};h.requiresConfirmation=true;h.confirmationTitle="Удаление";h.confirmationPrompt="Подтвердите удаление";h.url="slingshot/datalists/list/node/"+i.nodeRef.replace("://","/");h.responseTopic="DATAGRID_DELETE_ROW_FROM_STORE",this.alfPublish("ALF_CRUD_DELETE",h,true);this.alfLog("log","alfresco_HolidayDataGrid__deleteHoliday",i)}},getHolidayData:function c(){var g=this.grid.pqGrid("selection",{type:"row",method:"getSelection"});if(g&&g.length>0){var i=g[0].rowData;var h={};h.config={};h.data=i;h.data.rowId=g[0].rowIndx;h.config.dialogTitle="formHoliday.title";h.config.dialogConfirmationButtonTitle="edit.title";h.config.dialogCancellationButtonTitle="cancel.title";h.config.formSubmissionTopic="BTL_EDIT_HOLIDAY";this.alfPublish("BTL_CREATE_FORM_HOLIDAY",h,true);this.alfLog("log","alfresco_HolidayDataGrid__getHolidayData",i)}}})});