define(["alfresco/forms/controls/BaseFormControl","alfresco/forms/controls/utilities/TextBoxValueChangeMixin","alfresco/forms/controls/utilities/IconMixin","./_validationMixin","dojo/_base/declare","alfresco/forms/controls/TextBoxControl","dojo/_base/lang","dojo/_base/array","dojo/dom-class","dojo/dom-style"],function(m,n,e,a,d,j,c,g,k,f){return d([m,n,e,a],{style:null,labelStyle:null,notValidClass:"not-valid",cssRequirements:[{cssFile:"./css/TextBox.css"}],autocomplete:"off",placeHolder:null,textBox:null,iconClass:null,completeWidgetSetup:function b(){this.inherited(arguments);if(this.labelStyle){f.set(this._titleRowNode,this.labelStyle)}if(this.style&&document.getElementById("widget_"+this.textBox.id)){f.set("widget_"+this.textBox.id,this.style)}},getWidgetConfig:function o(){var p=(this.placeHolder)?this.message(this.placeHolder):"";return{id:this.generateUuid(),name:this.name,autocomplete:this.autocomplete,placeHolder:p,iconClass:this.iconClass}},createFormControl:function h(q,r){var s=new j(q);this.textBox=s;var p="";if(this.additionalCssClasses){p=this.additionalCssClasses}k.add(this.domNode,"alfresco-forms-controls-TextBox "+p);this.addIcon(s);return s},showValidationFailure:function l(){if(this.showValidationErrorsImmediately||(this._hadFocus||this._hadUserUpdate)){this.domNode?k.add(this.domNode,"alfresco-forms-controls-BaseFormControl--invalid"):""}else{this._pendingValidationFailureDisplay=true}this._controlNode?k.add(this._controlNode,this.notValidClass):""},hideValidationFailure:function i(){if(this.domNode){k.remove(this.domNode,"alfresco-forms-controls-BaseFormControl--invalid");k.remove(this.domNode,"alfresco-forms-controls-BaseFormControl--warning")}this._controlNode?k.remove(this._controlNode,this.notValidClass):"";this._pendingValidationFailureDisplay=false},})});