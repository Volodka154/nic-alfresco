define(["dojo/_base/declare","./_MenuItem","dojo/topic","../Dialog/DeleteAnswerDialog","jquery"],function(b,e,a,d,c){return b([e],{label:"Удалить",iconClass:"dijitCommonIcon icon-delete btl-icon-16",gridId:null,endPostCreate:function(){this.grid=c("#"+this.gridId);this.deleteDialog=new d({title:"Удаление вложения"})},onClick:function(i){var h=this.getCurrentRow();var f=h.name,g=h.nodeRef;this.deleteDialog.set("content",'Вы действительно хотите удалить файл:</br>"'+f+'" ?');this.deleteDialog.callback=this.deleteAttachment.bind(this,g);this.deleteDialog.show()},deleteAttachment:function(f){Alfresco.util.Ajax.jsonPost({method:"POST",url:"/share/proxy/alfresco/slingshot/doclib/action/files?alf_method=delete",dataObj:{nodeRefs:[f]},successCallback:{fn:function(){this.deleteDialog.hide();a.publish("refreshAttachmentsGrid")},scope:this}})}})});