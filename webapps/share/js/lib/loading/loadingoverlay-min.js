define(["jquery","jqueryui"],function(a){(function(d,f){var e={color:"rgba(255, 255, 255, 0.8)",custom:"",fade:true,fontawesome:"",image:"/share/res/js/lib/loading/loading.gif",maxSize:"100px",minSize:"20px",resizeInterval:0,size:"50%"};d.LoadingOverlaySetup=function(h){d.extend(true,e,h)};d.LoadingOverlay=function(j,h){switch(j.toLowerCase()){case"show":var i=d.extend(true,{},e,h);c("body",i);break;case"hide":g("body",h);break}};d.fn.LoadingOverlay=function(j,h){switch(j.toLowerCase()){case"show":var i=d.extend(true,{},e,h);return this.each(function(){c(this,i)});case"hide":return this.each(function(){g(this,h)})}};function c(h,k){h=d(h);var m=h.is("body");var l=h.data("LoadingOverlayCount");if(l===f){l=0}if(l==0){var i=d("<div>",{"class":"loadingoverlay",css:{"background-color":k.color,display:"flex","flex-direction":"column","align-items":"center","justify-content":"center","z-index":"9999"}});if(k.image){i.css({"background-image":"url("+k.image+")","background-position":"center center","background-repeat":"no-repeat"})}if(k.fontawesome){d("<div>",{"class":"loadingoverlay_fontawesome "+k.fontawesome}).appendTo(i)}if(k.custom){d(k.custom).appendTo(i)}if(m){i.css({position:"fixed",top:0,left:0,width:"100%",height:"100%"})}else{i.css({position:"absolute",top:0,left:0});if(h.css("position")=="static"){i.css({top:h.position().top+parseInt(h.css("margin-top"))+parseInt(h.css("border-top-width")),left:h.position().left+parseInt(h.css("margin-left"))+parseInt(h.css("border-left-width"))})}}b(h,i,k,m);if(k.resizeInterval>0){var j=setInterval(function(){b(h,i,k,m)},k.resizeInterval);h.data("LoadingOverlayResizeIntervalId",j)}if(!k.fade){k.fade=[0,0]}else{if(k.fade===true){k.fade=[400,200]}else{if(typeof k.fade=="string"||typeof k.fade=="number"){k.fade=[k.fade,k.fade]}}}h.data("LoadingOverlayFadeOutDuration",k.fade[1]);i.hide().appendTo(h).fadeIn(k.fade[0])}l++;h.data("LoadingOverlayCount",l)}function g(h,k){h=d(h);var j=h.data("LoadingOverlayCount");if(j===f){return}j--;if(k||j<=0){var i=h.data("LoadingOverlayResizeIntervalId");if(i){clearInterval(i)}h.children(".loadingoverlay").fadeOut(h.data("LoadingOverlayFadeOutDuration"),function(){d(this).remove()});h.removeData(["LoadingOverlayCount","LoadingOverlayFadeOutDuration","LoadingOverlayResizeIntervalId"])}else{h.data("LoadingOverlayCount",j)}}function b(h,i,k,l){if(!l){i.css({width:h.innerWidth(),height:h.innerHeight()})}var j="auto";if(k.size&&k.size!="auto"){var m=l?d(window):h;j=Math.min(m.innerWidth(),m.innerHeight())*parseFloat(k.size)/100;if(k.maxSize&&j>parseInt(k.maxSize)){j=parseInt(k.maxSize)+"px"}if(k.minSize&&j<parseInt(k.minSize)){j=parseInt(k.minSize)+"px"}}i.css("background-size",j);i.children(".loadingoverlay_fontawesome").css("font-size",j)}}(jQuery))});