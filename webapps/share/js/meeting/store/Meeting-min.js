define(["dojo/_base/declare","./_Store","dojo/_base/lang","alfresco/core/CoreXhr",],function(a,c,d,b){return a([c,b],{postMixInProperties:function(){this.alfSubscribe("CHANGE_STATE_MEETING_DOCUMENT",d.hitch(this,this.changeState),true);this.alfSubscribe("UPDATE_SORE",d.hitch(this,this.updateStore),true);this.store.handleAlfSubscribe=[];this.inherited(arguments)},changeState:function(e){this.store.state=e.state;if(e.nodeRef){this.store.nodeRef=e.nodeRef}this.store.document.properties["prop_btl-meeting_state"]=e.state},updateStore:function(e){_Callback=e.Callback;this.store.nodeRef=e.nodeRef;this.serviceXhr({url:"/share/proxy/alfresco/get-node-properties-by-nodeRef?nodeRef="+e.nodeRef,method:"GET",successCallback:this.setStore,callbackScope:this})},setStore:function(e){this.store.document=e;this.store.state=e.properties["prop_btl-meeting_state"];if(_Callback!=null&&_Callback!=undefined){_Callback()}}})});