define(["dojo/_base/declare","alfresco/services/CrudService","dojo/_base/lang","alfresco/core/topics",],function(c,e,d,f){return c([e],{refreshRequest:function b(h,g){var i=d.getObject("alfTopic",false,g);if(i){this.alfPublish(i+"__SUCCESS",g,true)}else{this.alfLog("warn","It was not possible to publish requested CRUD data because the 'responseTopic' attribute was not set on the original request",h,g)}var k=d.getObject("successMessage",false,g);if(!k){k="crudservice.generic.success.message"}this.alfServicePublish(f.DISPLAY_NOTIFICATION,{message:this.message(k)});var j=d.getObject("data.noRefresh",false,g);if(j!==true){var l=null;if(g.createdItemKey){var m=d.getObject(g.createdItemKey,false,h);if(m){l={focusItemKey:m}}}}},requestDeleteConfirmation:function a(k,l){var j=this.generateUuid();this._deleteHandle=this.alfSubscribe(j,d.hitch(this,this.onDeleteConfirmation),true);var m=l.confirmationTitle||"crudservice.generic.delete.title";var h=l.confirmationPrompt||"crudservice.generic.delete.prompt";var g=l.confirmationButtonLabel||"crudservice.generic.delete.confirmationButtonLabel";var i=l.cancellationButtonLabel||"crudservice.generic.delete.cancellationButtonLabel";this.alfServicePublish(f.CREATE_DIALOG,{dialogId:"ALF_CRUD_SERVICE_DELETE_CONFIRMATION_DIALOG",dialogTitle:this.message(m),textContent:this.message(h),widgetsButtons:[{id:"ALF_CRUD_SERVICE_DELETE_CONFIRMATION_DIALOG_CONFIRM",name:"alfresco/buttons/AlfButton",config:{label:this.message(g),publishTopic:j,publishPayload:{url:k,responseScope:l.alfResponseScope,responseTopic:l.responseTopic,data:l,successMessage:this.message(l.successMessage||"crudservice.generic.success.message"),failureMessage:this.message(l.failureMessage||"crudservice.generic.failure.message")}}},{id:"ALF_CRUD_SERVICE_DELETE_CONFIRMATION_DIALOG_CANCEL",name:"alfresco/buttons/AlfButton",config:{label:this.message(i),publishTopic:"close"}}]})},})});