define(["dojo/_base/declare","meeting/choices/_Choice","meeting/utils/base","alfresco/core/CoreXhr","dojo/_base/lang"],function(f,j,e,d,b){return f([j,d],{name:"assoc_btl-link_linkObject",header:"Выбрать объект",labelText:"Объект",labelButton:"Выбрать",urlList:"/share/proxy/alfresco/filters/association",dataUrl:{type:"",s_field:"",field:""},itemUrl:"/share/proxy/alfresco/picker/associationItem",dataItemUrl:{type:"",field:""},postMixInProperties:function(){this.alfSubscribe("BTL_LINK_OBJECT_TYPE_CHANGED",b.hitch(this,this.changeSource,true),true);if(this.objectType!=""){this.changeSource(false,this.objectType)}this.inherited(arguments)},postCreate:function(){this.inherited(arguments);this.setDisable(true)},changeSource:function c(m,n){if(m){this.alfPublish(this.id+"_BTL_BTN_CLEAN_VALUE",this,true);this.setDisable(false)}if(this.choiceItem){this.choiceItem.widgets.dialog.header.textContent=this.getHeaderText(n);this.choiceItem.options.dataUrl.type=this.getDataType(n);this.choiceItem.options.dataUrl.field=this.getField(n);this.choiceItem.options.dataUrl.s_field=this.getSField(n);this.choiceItem.options.dataUrl.extra=this.getExtra(n);this.choiceItem.options.dataUrl.data=this.getData(n);this.setValue(this.value)}this.dataUrl.type=this.getDataType(n);this.dataUrl.field=this.getField(n);this.dataUrl.s_field=this.getSField(n);this.dataItemUrl.type=this.getDataType(n);this.dataItemUrl.field=this.getField(n)},getHeaderText:function l(m){var n="Выберите ";switch(m){case"btl-project:projectDataType":n+="проект";break;case"btl-incomming:documentDataType":n+="входящий документ";break;case"btl-outgoing:documentDataType":n+="исходящий документ";break;case"btl-internal:documentDataType":n+="внутренний документ";break;case"btl-meeting:meetingDataType":n+="мероприятие";break;case"0":n+="резолюцию по входящему документу";break;case"1":n+="задание по исходящему документу";break;case"2":n+="резолюцию по внутреннему документу";break;case"3":n+="задание по проекту";break;case"4":n+="инициативное задание";break;case"5":n+="НТД";break;case"6":n+="дело проекта";break;default:n+="объект";break}return n},getDataType:function g(m){switch(m){case"btl-project:projectDataType":case"btl-meeting:meetingDataType":return m;case"btl-incomming:documentDataType":case"btl-outgoing:documentDataType":case"btl-internal:documentDataType":return"btl-document:documentDataType";case"0":case"1":case"2":case"3":case"4":return"btl-task:taskDataType";case"5":return"btl-ntd:ntdDataType";case"6":return"btl-projectCase:projectCaseDataType";default:return""}},getField:function a(m){switch(m){case"btl-project:projectDataType":return"shortName";case"btl-meeting:meetingDataType":return"theme";case"btl-incomming:documentDataType":case"btl-outgoing:documentDataType":case"btl-internal:documentDataType":return"regNumber,regDate,content";case"0":case"1":case"2":case"3":case"4":return"name";case"5":return"btl-document:regNumber,btl-document:regDate,btl-document:name";case"6":return"btl-document:regNumber,btl-document:regDate,btl-document:project-content";default:return""}},getSField:function i(m){switch(m){case"btl-project:projectDataType":return"shortName";case"btl-meeting:meetingDataType":return"theme";case"btl-incomming:documentDataType":case"btl-outgoing:documentDataType":case"btl-internal:documentDataType":return"regNumber";case"0":case"1":case"2":case"3":case"4":return"name";case"5":return"btl-document:regNumber";case"6":return"btl-document:regNumber";default:return""}},getExtra:function h(m){switch(m){case"0":case"1":case"2":case"3":case"4":return'btl\\-task\\:taskType:"'+m+'"';case"btl-incomming:documentDataType":case"btl-outgoing:documentDataType":case"btl-internal:documentDataType":return'CLASS:"'+m+'"';default:return""}},getData:function k(m){if(m=="btl-project:projectDataType"){return"btl-project:stage"}else{return""}}})});