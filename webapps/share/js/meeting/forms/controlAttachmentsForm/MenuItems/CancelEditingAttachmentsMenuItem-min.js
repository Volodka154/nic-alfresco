define(["dojo/_base/declare","./_AlfMenuBarItem","dojo/topic"],function(b,c,a){return b([c],{label:"Отменить редактирование",iconClass:"dijitCommonIcon cancel-edit btl-icon-16",isVisible:false,postMixInProperties:function(){this.inherited(arguments);this.actions=new Alfresco.module.DoclibActions()},metaSelectDocument:function(d){if(d.item.status!=""){this.setVisibly(true)}else{this.setVisibly(false)}},onClick:function(h){var d=this.selectedRowNode.name,g=new Alfresco.util.NodeRef(this.selectedRowNode.nodeRef);_thisCancaelAttachButton=this;this.actions.genericAction({success:{callback:{fn:function f(e){_thisCancaelAttachButton.alfPublish("ALF_DISPLAY_NOTIFICATION",{message:"Редактирование документа "+d+" завершено"},true);_thisCancaelAttachButton.alfPublish("refreshAttachmentsGrid",{},true)},scope:this}},failure:{},webscript:{method:Alfresco.util.Ajax.POST,name:"cancel-checkout/node/{nodeRef}",params:{nodeRef:g.uri}}})},})});