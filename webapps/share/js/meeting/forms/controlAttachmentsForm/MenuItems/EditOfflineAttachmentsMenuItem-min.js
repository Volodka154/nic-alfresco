define(["dojo/_base/declare","./_AlfMenuBarItem","dojo/topic","./_mixinIsReadOnly"],function(b,d,a,c){return b([d,c],{label:"Редактировать",iconClass:"dijitCommonIcon icon-edit-for-attach btl-icon-16",postMixInProperties:function(){this.inherited(arguments);this.actions=new Alfresco.module.DoclibActions()},metaSelectDocument:function(e){if(e.item.status!=""){this.setVisibly(false)}else{this.setVisibly(true)}},onClick:function(i){var f=this.selectedRowNode.name,g=new Alfresco.util.NodeRef(this.selectedRowNode.nodeRef),h=Alfresco.constants.PROXY_URI+"slingshot/node/content/"+g.uri+"/"+f+"?a=true";this.actions.genericAction({success:{callback:{fn:function(e){document.location.assign(h);require(["dojo/topic"],function(j){j.publish("ALF_DISPLAY_NOTIFICATION",{message:"Документ:"+f+" загружен для редактирования"})});a.publish("refreshAttachmentsGrid")},scope:this}},failure:{},webscript:{method:Alfresco.util.Ajax.POST,name:"checkout/node/{nodeRef}",params:{nodeRef:g.uri}}})},})});