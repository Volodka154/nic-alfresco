define(["dojo/_base/declare","dijit/_WidgetBase","dojo/_base/lang","alfresco/core/Core","btlExtension/windowChoiceItem/window_choice_item",],function(c,b,f,e,a){return c([b,e],{showDialogSubscribe:"",dataTopic:"",postMixInProperties:function d(){this.inherited(arguments);this.alfSubscribe(this.showDialogSubscribe,f.hitch(this,this.showChoiceDialog),true)},postCreate:function(){this.inherited(arguments);this.choiceItem=new Alfresco.WindowChoiceItem(this.id+"-btn-add-link-users").setOptions({header:"Выбор из справочника сотрудников:",single:false,search:true,url:"/share/proxy/alfresco/filters/association",renderData:"result",placeHolder:"Поиск по фамилии",dataUrl:{type:"btl-emp:employee-content",s_field:"btl-people:fio",field:"btl-people:fio"},});this.choiceItem.dialogCreate();this.choiceItem.setEvents();var g=this;this.choiceItem.onOk.subscribe(function(){var h=this.getValues();g.alfPublish(g.dataTopic,{users:h},true);this.curItems={}})},showChoiceDialog:function(g){this.choiceItem.setValues((g.values)?g.values:[]);this.choiceItem.options.excluded=(g.excluded)?g.excluded:[];this.choiceItem.dialog.show()},})});