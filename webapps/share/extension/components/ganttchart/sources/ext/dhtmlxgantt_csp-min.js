gantt.date.date_to_str=function(b,a){return function(c){return b.replace(/%[a-zA-Z]/g,function(d){switch(d){case"%d":return a?gantt.date.to_fixed(c.getUTCDate()):gantt.date.to_fixed(c.getDate());case"%m":return a?gantt.date.to_fixed((c.getUTCMonth()+1)):gantt.date.to_fixed((c.getMonth()+1));case"%j":return a?c.getUTCDate():c.getDate();case"%n":return a?(c.getUTCMonth()+1):(c.getMonth()+1);case"%y":return a?gantt.date.to_fixed(c.getUTCFullYear()%100):gantt.date.to_fixed(c.getFullYear()%100);case"%Y":return a?c.getUTCFullYear():c.getFullYear();case"%D":return a?gantt.locale.date.day_short[c.getUTCDay()]:gantt.locale.date.day_short[c.getDay()];case"%l":return a?gantt.locale.date.day_full[c.getUTCDay()]:gantt.locale.date.day_full[c.getDay()];case"%M":return a?gantt.locale.date.month_short[c.getUTCMonth()]:gantt.locale.date.month_short[c.getMonth()];case"%F":return a?gantt.locale.date.month_full[c.getUTCMonth()]:gantt.locale.date.month_full[c.getMonth()];case"%h":return a?gantt.date.to_fixed((c.getUTCHours()+11)%12+1):gantt.date.to_fixed((c.getHours()+11)%12+1);case"%g":return a?((c.getUTCHours()+11)%12+1):((c.getHours()+11)%12+1);case"%G":return a?c.getUTCHours():c.getHours();case"%H":return a?gantt.date.to_fixed(c.getUTCHours()):gantt.date.to_fixed(c.getHours());case"%i":return a?gantt.date.to_fixed(c.getUTCMinutes()):gantt.date.to_fixed(c.getMinutes());case"%a":return a?(c.getUTCHours()>11?"pm":"am"):(c.getHours()>11?"pm":"am");case"%A":return a?(c.getUTCHours()>11?"PM":"AM"):(c.getHours()>11?"PM":"AM");case"%s":return a?gantt.date.to_fixed(c.getUTCSeconds()):gantt.date.to_fixed(c.getSeconds());case"%W":return a?gantt.date.to_fixed(gantt.date.getUTCISOWeek(c)):gantt.date.to_fixed(gantt.date.getISOWeek(c));default:return d}})}};gantt.date.str_to_date=function(b,a){return function(e){var g=[0,0,1,0,0,0];var d=e.match(/[a-zA-Z]+|[0-9]+/g);var c=b.match(/%[a-zA-Z]/g);for(var f=0;f<c.length;f++){switch(c[f]){case"%j":case"%d":g[2]=d[f]||1;break;case"%n":case"%m":g[1]=(d[f]||1)-1;break;case"%y":g[0]=d[f]*1+(d[f]>50?1900:2000);break;case"%g":case"%G":case"%h":case"%H":g[3]=d[f]||0;break;case"%i":g[4]=d[f]||0;break;case"%Y":g[0]=d[f]||0;break;case"%a":case"%A":g[3]=g[3]%12+((d[f]||"").toLowerCase()=="am"?0:12);break;case"%s":g[5]=d[f]||0;break;case"%M":g[1]=gantt.locale.date.month_short_hash[d[f]]||0;break;case"%F":g[1]=gantt.locale.date.month_full_hash[d[f]]||0;break;default:break}}if(a){return new Date(Date.UTC(g[0],g[1],g[2],g[3],g[4],g[5]))}return new Date(g[0],g[1],g[2],g[3],g[4],g[5])}};