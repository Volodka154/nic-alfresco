gantt.config.smart_rendering=true;gantt._smart_render={getViewPort:function(){var a=this.getScrollSizes();var b=gantt._restore_scroll_state();b.y=Math.min(a.y_inner-a.y,b.y);return{y:b.y,y_end:b.y+a.y}},getScrollSizes:function(){var a=gantt._scroll_sizes();a.x=a.x||0;a.y=a.y||gantt._order.length*gantt.config.row_height;return a},isInViewPort:function(a,b){return !!(a.y<b.y_end&&a.y_end>b.y)},isTaskDisplayed:function(a){return this.isInViewPort(this.getTaskPosition(a),this.getViewPort())},isLinkDisplayed:function(a){return this.isInViewPort(this.getLinkPosition(a),this.getViewPort())},getTaskPosition:function(b){var a=gantt.getTaskTop(b);return{y:a,y_end:a+gantt.config.row_height}},getLinkPosition:function(d){var c=gantt.getLink(d);var b=gantt.getTaskTop(c.source),a=gantt.getTaskTop(c.target);return{y:Math.min(b,a),y_end:Math.max(b,a)+gantt.config.row_height}},getRange:function(b){b=b||0;var d=this.getViewPort();var e=Math.floor(Math.max(0,d.y)/gantt.config.row_height)-b;var c=Math.ceil(Math.max(0,d.y_end)/gantt.config.row_height)+b;var a=gantt._order.slice(e,c);return a},_redrawItems:function(b,a){for(var d in b){var e=b[d];for(var d in e.rendered){e.hide(d)}for(var c=0;c<a.length;c++){e.restore(a[c])}}},_getVisibleTasks:function(){return gantt._get_tasks_data()},_getVisibleLinks:function(){var c=[];var a=gantt._get_links_data();for(var b=0;b<a.length;b++){if(this.isLinkDisplayed(a[b].id)){c.push(a[b])}}return c},updateRender:function(){this._redrawItems(gantt._get_task_renderers(),this._getVisibleTasks());this._redrawItems(gantt._get_link_renderers(),this._getVisibleLinks())},cached:{},_takeFromCache:function(d,c,b){if(!this.cached[b]){this.cached[b]=null}var a=this.cached[b];if(d!==undefined){if(!a){a=this.cached[b]={}}if(a[d]===undefined){a[d]=c(d)}return a[d]}else{if(!a){a=c()}return a}},initCache:function(){var a=["getLinkPosition","getTaskPosition","isTaskDisplayed","isLinkDisplayed","getViewPort","getScrollSizes"];for(var b=0;b<a.length;b++){var d=a[b];var c=gantt.bind(this[d],this);this[d]=(function(f,e){return function(g){return this._takeFromCache(g,f,e)}})(c,d)}this.invalidateCache();this.initCache=function(){}},invalidateCache:function(){var a=this;function d(){a.cached.getViewPort=null;a.cached.getScrollSizes=null;a.cached.isTaskDisplayed=null;a.cached.isLinkDisplayed=null}function f(){a.cached.isTaskDisplayed=null;a.cached.isLinkDisplayed=null;a.cached.getLinkPosition=null;a.cached.getTaskPosition=null}function b(){d();f()}function e(g){if(a.cached.isTaskDisplayed){a.cached.isTaskDisplayed[g]=undefined}if(a.cached.getTaskPosition){a.cached.getTaskPosition[g]=undefined}}function c(g){if(a.cached.isLinkDisplayed){a.cached.isLinkDisplayed[g]=undefined}if(a.cached.getLinkPosition){a.cached.getLinkPosition[g]=undefined}}gantt.attachEvent("onClear",function(){b()});gantt.attachEvent("onParse",function(){b()});gantt.attachEvent("onAfterLinkUpdate",c);gantt.attachEvent("onAfterTaskAdd",b);gantt.attachEvent("onAfterTaskDelete",b);gantt.attachEvent("onAfterTaskUpdate",e);gantt.attachEvent("onGanttScroll",d);gantt.attachEvent("onDataRender",b);this.invalidateCache=function(){}}};gantt._smart_render.initCache();gantt.attachEvent("onGanttScroll",function(d,a,c,b){if(gantt.config.smart_rendering){if(a!=b){gantt._smart_render.updateRender()}}});gantt.attachEvent("onDataRender",function(){if(gantt.config.smart_rendering){gantt._smart_render.updateRender()}});(function(){function b(e,d){return function(){if(gantt.config.smart_rendering){return d.apply(this,arguments)}else{return e.apply(this,arguments)}}}var c=gantt._get_task_filters;gantt._get_task_filters=b(gantt._get_task_filters,function(){var d=c.call(gantt);d.push(function(e){if(gantt.config.smart_rendering){return gantt._smart_render.isTaskDisplayed(e)}else{return true}});return d});var a=gantt._get_link_filters;gantt._get_link_filters=b(gantt._get_link_filters,function(){var d=a.call(gantt);d.push(function(e){if(gantt.config.smart_rendering){return gantt._smart_render.isLinkDisplayed(e)}else{return true}});return d});gantt._get_data_range=b(gantt._get_data_range,function(){return this._smart_render.getRange()})})();