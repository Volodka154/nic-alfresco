gantt.config.quickinfo_buttons=["icon_delete","icon_edit"];gantt.config.quick_info_detached=true;gantt.config.show_quick_info=true;gantt.attachEvent("onTaskClick",function(a){gantt.showQuickInfo(a);return true});(function(){var c=["onEmptyClick","onViewChange","onLightbox","onBeforeTaskDelete","onBeforeDrag"];var a=function(){gantt._hideQuickInfo();return true};for(var b=0;b<c.length;b++){gantt.attachEvent(c[b],a)}})();gantt.templates.quick_info_title=function(c,a,b){return b.text.substr(0,50)};gantt.templates.quick_info_content=function(c,a,b){return b.details||b.text};gantt.templates.quick_info_date=function(c,a,b){return gantt.templates.task_time(c,a,b)};gantt.templates.quick_info_class=function(c,a,b){return""};gantt.showQuickInfo=function(b){if(b==this._quick_info_box_id||!this.config.show_quick_info){return}this.hideQuickInfo(true);var a=this._get_event_counter_part(b);if(a){this._quick_info_box=this._init_quick_info(a,b);this._quick_info_box.className=gantt._prepare_quick_info_classname(b);this._fill_quick_data(b);this._show_quick_info(a)}};gantt._hideQuickInfo=function(){gantt.hideQuickInfo()};gantt.hideQuickInfo=function(a){var b=this._quick_info_box;this._quick_info_box_id=0;if(b&&b.parentNode){if(gantt.config.quick_info_detached){return b.parentNode.removeChild(b)}b.className+=" gantt_qi_hidden";if(b.style.right=="auto"){b.style.left="-350px"}else{b.style.right="-350px"}if(a){b.parentNode.removeChild(b)}}};gantt.event(window,"keydown",function(a){if(a.keyCode==27){gantt.hideQuickInfo()}});gantt._show_quick_info=function(f){var e=gantt._quick_info_box;if(gantt.config.quick_info_detached){if(!e.parentNode||e.parentNode.nodeName.toLowerCase()=="#document-fragment"){gantt.$task_data.appendChild(e)}var d=e.offsetWidth;var b=e.offsetHeight;var c=this.getScrollState();var a=this.$task.offsetWidth+c.x-d;e.style.left=Math.min(Math.max(c.x,f.left-f.dx*(d-f.width)),a)+"px";e.style.top=f.top-(f.dy?b:-f.height)-25+"px"}else{e.style.top=20+"px";if(f.dx==1){e.style.right="auto";e.style.left="-300px";setTimeout(function(){e.style.left="-10px"},1)}else{e.style.left="auto";e.style.right="-300px";setTimeout(function(){e.style.right="-10px"},1)}e.className+=" gantt_qi_"+(f.dx==1?"left":"right");gantt._obj.appendChild(e)}};gantt._prepare_quick_info_classname=function(d){var a=gantt.getTask(d);var b="gantt_cal_quick_info",c=this.templates.quick_info_class(a.start_date,a.end_date,a);if(c){b+=" "+c}return b};gantt._init_quick_info=function(h,g){var a=gantt.getTask(g);if(typeof this._quick_info_readonly=="boolean"){if(this._is_readonly(a)!==this._quick_info_readonly){gantt.hideQuickInfo(true);this._quick_info_box=null}}this._quick_info_readonly=this._is_readonly(a);if(!this._quick_info_box){var f=this._quick_info_box=document.createElement("div");var d='<div class="gantt_cal_qi_title"><div class="gantt_cal_qi_tcontent"></div><div  class="gantt_cal_qi_tdate"></div></div><div class="gantt_cal_qi_content"></div>';d+='<div class="gantt_cal_qi_controls">';var e=gantt.config.quickinfo_buttons;var c={icon_delete:true,icon_edit:true};for(var b=0;b<e.length;b++){if(this._quick_info_readonly&&c[e[b]]){continue}d+='<div class="gantt_qi_big_icon '+e[b]+'" title="'+gantt.locale.labels[e[b]]+"\"><div class='gantt_menu_icon "+e[b]+"'></div><div>"+gantt.locale.labels[e[b]]+"</div></div>"}d+="</div>";f.innerHTML=d;gantt.event(f,"click",function(i){i=i||event;gantt._qi_button_click(i.target||i.srcElement)});if(gantt.config.quick_info_detached){gantt.event(gantt.$task_data,"scroll",function(){gantt.hideQuickInfo()})}}return this._quick_info_box};gantt._qi_button_click=function(c){var b=gantt._quick_info_box;if(!c||c==b){return}var a=c.className;if(a.indexOf("_icon")!=-1){var d=gantt._quick_info_box_id;gantt.$click.buttons[a.split(" ")[1].replace("icon_","")](d)}else{gantt._qi_button_click(c.parentNode)}};gantt._get_event_counter_part=function(h){var d=gantt.getTaskNode(h);var g=0;var f=0;var e=d;while(e&&e.className!="gantt_task"){g+=e.offsetLeft;f+=e.offsetTop;e=e.offsetParent}var a=this.getScrollState();if(e){var c=(g+d.offsetWidth/2)-a.x>(gantt._x/2)?1:0;var b=(f+d.offsetHeight/2)-a.y>(gantt._y/2)?1:0;return{left:g,top:f,dx:c,dy:b,width:d.offsetWidth,height:d.offsetHeight}}return 0};gantt._fill_quick_data=function(f){var c=gantt.getTask(f);var e=gantt._quick_info_box;gantt._quick_info_box_id=f;var d=e.firstChild.firstChild;d.innerHTML=gantt.templates.quick_info_title(c.start_date,c.end_date,c);var b=d.nextSibling;b.innerHTML=gantt.templates.quick_info_date(c.start_date,c.end_date,c);var a=e.firstChild.nextSibling;a.innerHTML=gantt.templates.quick_info_content(c.start_date,c.end_date,c)};