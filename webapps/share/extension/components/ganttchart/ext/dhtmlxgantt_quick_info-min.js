gantt.config.quickinfo_buttons=["icon_delete","icon_edit"],gantt.config.quick_info_detached=!0,gantt.config.show_quick_info=!0,gantt.attachEvent("onTaskClick",function(a){return gantt.showQuickInfo(a),!0}),function(){for(var a=["onEmptyClick","onViewChange","onLightbox","onBeforeTaskDelete","onBeforeDrag"],b=function(){return gantt._hideQuickInfo(),!0},c=0;c<a.length;c++){gantt.attachEvent(a[c],b)}}(),gantt.templates.quick_info_title=function(a,b,c){return c.text.substr(0,50)},gantt.templates.quick_info_content=function(a,b,c){return c.details||c.text},gantt.templates.quick_info_date=function(a,b,c){return gantt.templates.task_time(a,b,c)},gantt.templates.quick_info_class=function(a,b,c){return""},gantt.showQuickInfo=function(a){if(a!=this._quick_info_box_id&&this.config.show_quick_info){this.hideQuickInfo(!0);var b=this._get_event_counter_part(a);b&&(this._quick_info_box=this._init_quick_info(b,a),this._quick_info_box.className=gantt._prepare_quick_info_classname(a),this._fill_quick_data(a),this._show_quick_info(b))}},gantt._hideQuickInfo=function(){gantt.hideQuickInfo()},gantt.hideQuickInfo=function(a){var b=this._quick_info_box;if(this._quick_info_box_id=0,b&&b.parentNode){if(gantt.config.quick_info_detached){return b.parentNode.removeChild(b)}b.className+=" gantt_qi_hidden","auto"==b.style.right?b.style.left="-350px":b.style.right="-350px",a&&b.parentNode.removeChild(b)}},gantt.event(window,"keydown",function(a){27==a.keyCode&&gantt.hideQuickInfo()}),gantt._show_quick_info=function(d){var g=gantt._quick_info_box;if(gantt.config.quick_info_detached){g.parentNode&&"#document-fragment"!=g.parentNode.nodeName.toLowerCase()||gantt.$task_data.appendChild(g);var h=g.offsetWidth,b=g.offsetHeight,c=this.getScrollState(),f=this.$task.offsetWidth+c.x-h;g.style.left=Math.min(Math.max(c.x,d.left-d.dx*(h-d.width)),f)+"px",g.style.top=d.top-(d.dy?b:-d.height)-25+"px"}else{g.style.top="20px",1==d.dx?(g.style.right="auto",g.style.left="-300px",setTimeout(function(){g.style.left="-10px"},1)):(g.style.left="auto",g.style.right="-300px",setTimeout(function(){g.style.right="-10px"},1)),g.className+=" gantt_qi_"+(1==d.dx?"left":"right"),gantt._obj.appendChild(g)}},gantt._prepare_quick_info_classname=function(c){var d=gantt.getTask(c),f="gantt_cal_quick_info",b=this.templates.quick_info_class(d.start_date,d.end_date,d);return b&&(f+=" "+b),f},gantt._init_quick_info=function(d,h){var k=gantt.getTask(h);if("boolean"==typeof this._quick_info_readonly&&this._is_readonly(k)!==this._quick_info_readonly&&(gantt.hideQuickInfo(!0),this._quick_info_box=null),this._quick_info_readonly=this._is_readonly(k),!this._quick_info_box){var b=this._quick_info_box=document.createElement("div"),c='<div class="gantt_cal_qi_title"><div class="gantt_cal_qi_tcontent"></div><div  class="gantt_cal_qi_tdate"></div></div><div class="gantt_cal_qi_content"></div>';c+='<div class="gantt_cal_qi_controls">';for(var f=gantt.config.quickinfo_buttons,g={icon_delete:!0,icon_edit:!0},j=0;j<f.length;j++){this._quick_info_readonly&&g[f[j]]||(c+='<div class="gantt_qi_big_icon '+f[j]+'" title="'+gantt.locale.labels[f[j]]+"\"><div class='gantt_menu_icon "+f[j]+"'></div><div>"+gantt.locale.labels[f[j]]+"</div></div>")}c+="</div>",b.innerHTML=c,gantt.event(b,"click",function(a){a=a||event,gantt._qi_button_click(a.target||a.srcElement)}),gantt.config.quick_info_detached&&gantt.event(gantt.$task_data,"scroll",function(){gantt.hideQuickInfo()})}return this._quick_info_box},gantt._qi_button_click=function(c){var d=gantt._quick_info_box;if(c&&c!=d){var f=c.className;if(-1!=f.indexOf("_icon")){var b=gantt._quick_info_box_id;gantt.$click.buttons[f.split(" ")[1].replace("icon_","")](b)}else{gantt._qi_button_click(c.parentNode)}}},gantt._get_event_counter_part=function(d){for(var h=gantt.getTaskNode(d),k=0,b=0,c=h;c&&"gantt_task"!=c.className;){k+=c.offsetLeft,b+=c.offsetTop,c=c.offsetParent}var f=this.getScrollState();if(c){var g=k+h.offsetWidth/2-f.x>gantt._x/2?1:0,j=b+h.offsetHeight/2-f.y>gantt._y/2?1:0;return{left:k,top:b,dx:g,dy:j,width:h.offsetWidth,height:h.offsetHeight}}return 0},gantt._fill_quick_data=function(d){var g=gantt.getTask(d),h=gantt._quick_info_box;gantt._quick_info_box_id=d;var b=h.firstChild.firstChild;b.innerHTML=gantt.templates.quick_info_title(g.start_date,g.end_date,g);var c=b.nextSibling;c.innerHTML=gantt.templates.quick_info_date(g.start_date,g.end_date,g);var f=h.firstChild.nextSibling;f.innerHTML=gantt.templates.quick_info_content(g.start_date,g.end_date,g)};