gantt._tooltip={},gantt._tooltip_class="gantt_tooltip",gantt.config.tooltip_timeout=30,gantt.config.tooltip_offset_y=20,gantt.config.tooltip_offset_x=10,gantt._create_tooltip=function(){return this._tooltip_html||(this._tooltip_html=document.createElement("div"),this._tooltip_html.className=gantt._tooltip_class),this._tooltip_html},gantt._is_cursor_under_tooltip=function(a,b){return a.x>=b.pos.x&&a.x<=b.pos.x+b.width?!0:a.y>=b.pos.y&&a.y<=b.pos.y+b.height?!0:!1},gantt._show_tooltip=function(k,g){if(!gantt.config.touch||gantt.config.touch_tooltip){var d=this._create_tooltip();d.innerHTML=k,gantt.$task_data.appendChild(d);var h=d.offsetWidth+20,f=d.offsetHeight+40,l=this.$task.offsetHeight,b=this.$task.offsetWidth,c=this.getScrollState();g.y+=c.y;var j={x:g.x,y:g.y};g.x+=1*gantt.config.tooltip_offset_x||0,g.y+=1*gantt.config.tooltip_offset_y||0,g.y=Math.min(Math.max(c.y,g.y),c.y+l-f),g.x=Math.min(Math.max(c.x,g.x),c.x+b-h),gantt._is_cursor_under_tooltip(j,{pos:g,width:h,height:f})&&(j.x+h>b+c.x&&(g.x=j.x-(h-20)-(1*gantt.config.tooltip_offset_x||0)),j.y+f>l+c.y&&(g.y=j.y-(f-40)-(1*gantt.config.tooltip_offset_y||0))),d.style.left=g.x+"px",d.style.top=g.y+"px"}},gantt._hide_tooltip=function(){this._tooltip_html&&this._tooltip_html.parentNode&&this._tooltip_html.parentNode.removeChild(this._tooltip_html),this._tooltip_id=0},gantt._is_tooltip=function(a){var b=a.target||a.srcElement;return gantt._is_node_child(b,function(c){return c.className==this._tooltip_class})},gantt._is_task_line=function(a){var b=a.target||a.srcElement;return gantt._is_node_child(b,function(c){return c==this.$task_data})},gantt._is_node_child=function(a,b){for(var c=!1;a&&!c;){c=b.call(gantt,a),a=a.parentNode}return c},gantt._tooltip_pos=function(c){if(c.pageX||c.pageY){var d={x:c.pageX,y:c.pageY}}var f=gantt.env.isIE?document.documentElement:document.body,d={x:c.clientX+f.scrollLeft-f.clientLeft,y:c.clientY+f.scrollTop-f.clientTop},b=gantt._get_position(gantt.$task_data);return d.x=d.x-b.x,d.y=d.y-b.y,d},gantt.attachEvent("onMouseMove",function(a,b){if(this.config.tooltip_timeout){document.createEventObject&&!document.createEvent&&(b=document.createEventObject(b));var c=this.config.tooltip_timeout;this._tooltip_id&&!a&&(isNaN(this.config.tooltip_hide_timeout)||(c=this.config.tooltip_hide_timeout)),clearTimeout(gantt._tooltip_ev_timer),gantt._tooltip_ev_timer=setTimeout(function(){gantt._init_tooltip(a,b)},c)}else{gantt._init_tooltip(a,b)}}),gantt._init_tooltip=function(c,d){if(!this._is_tooltip(d)&&(c!=this._tooltip_id||this._is_task_line(d))){if(!c){return this._hide_tooltip()}this._tooltip_id=c;var f=this.getTask(c),b=this.templates.tooltip_text(f.start_date,f.end_date,f);return b?void this._show_tooltip(b,this._tooltip_pos(d)):void this._hide_tooltip()}},gantt.attachEvent("onMouseLeave",function(a){gantt._is_tooltip(a)||this._hide_tooltip()}),gantt.templates.tooltip_date_format=gantt.date.date_to_str("%Y-%m-%d"),gantt.templates.tooltip_text=function(a,b,c){return"<b>Task:</b> "+c.text+"<br/><b>Start date:</b> "+gantt.templates.tooltip_date_format(a)+"<br/><b>End date:</b> "+gantt.templates.tooltip_date_format(b)};