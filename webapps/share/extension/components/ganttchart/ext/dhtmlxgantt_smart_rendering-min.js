gantt.config.smart_rendering=!0,gantt._smart_render={getViewPort:function(){var a=this.getScrollSizes(),b=gantt._restore_scroll_state();return b.y=Math.min(a.y_inner-a.y,b.y),{y:b.y,y_end:b.y+a.y}},getScrollSizes:function(){var a=gantt._scroll_sizes();return a.x=a.x||0,a.y=a.y||gantt._order.length*gantt.config.row_height,a},isInViewPort:function(a,b){return !!(a.y<b.y_end&&a.y_end>b.y)},isTaskDisplayed:function(a){return this.isInViewPort(this.getTaskPosition(a),this.getViewPort())},isLinkDisplayed:function(a){return this.isInViewPort(this.getLinkPosition(a),this.getViewPort())},getTaskPosition:function(a){var b=gantt.getTaskTop(a);return{y:b,y_end:b+gantt.config.row_height}},getLinkPosition:function(c){var d=gantt.getLink(c),f=gantt.getTaskTop(d.source),b=gantt.getTaskTop(d.target);return{y:Math.min(f,b),y_end:Math.max(f,b)+gantt.config.row_height}},getRange:function(d){d=d||0;var f=this.getViewPort(),g=Math.floor(Math.max(0,f.y)/gantt.config.row_height)-d,b=Math.ceil(Math.max(0,f.y_end)/gantt.config.row_height)+d,c=gantt._order.slice(g,b);return c},_redrawItems:function(d,f){for(var g in d){var b=d[g];for(var g in b.rendered){b.hide(g)}for(var c=0;c<f.length;c++){b.restore(f[c])}}},_getVisibleTasks:function(){return gantt._get_tasks_data()},_getVisibleLinks:function(){for(var a=[],b=gantt._get_links_data(),c=0;c<b.length;c++){this.isLinkDisplayed(b[c].id)&&a.push(b[c])}return a},updateRender:function(){this._redrawItems(gantt._get_task_renderers(),this._getVisibleTasks()),this._redrawItems(gantt._get_link_renderers(),this._getVisibleLinks())},cached:{},_takeFromCache:function(c,d,f){this.cached[f]||(this.cached[f]=null);var b=this.cached[f];return void 0!==c?(b||(b=this.cached[f]={}),void 0===b[c]&&(b[c]=d(c)),b[c]):(b||(b=d()),b)},initCache:function(){for(var c=["getLinkPosition","getTaskPosition","isTaskDisplayed","isLinkDisplayed","getViewPort","getScrollSizes"],d=0;d<c.length;d++){var f=c[d],b=gantt.bind(this[f],this);this[f]=function(a,g){return function(e){return this._takeFromCache(e,a,g)}}(b,f)}this.invalidateCache(),this.initCache=function(){}},invalidateCache:function(){function d(){f.cached.getViewPort=null,f.cached.getScrollSizes=null,f.cached.isTaskDisplayed=null,f.cached.isLinkDisplayed=null}function g(){f.cached.isTaskDisplayed=null,f.cached.isLinkDisplayed=null,f.cached.getLinkPosition=null,f.cached.getTaskPosition=null}function h(){d(),g()}function b(a){f.cached.isTaskDisplayed&&(f.cached.isTaskDisplayed[a]=void 0),f.cached.getTaskPosition&&(f.cached.getTaskPosition[a]=void 0)}function c(a){f.cached.isLinkDisplayed&&(f.cached.isLinkDisplayed[a]=void 0),f.cached.getLinkPosition&&(f.cached.getLinkPosition[a]=void 0)}var f=this;gantt.attachEvent("onClear",function(){h()}),gantt.attachEvent("onParse",function(){h()}),gantt.attachEvent("onAfterLinkUpdate",c),gantt.attachEvent("onAfterTaskAdd",h),gantt.attachEvent("onAfterTaskDelete",h),gantt.attachEvent("onAfterTaskUpdate",b),gantt.attachEvent("onGanttScroll",d),gantt.attachEvent("onDataRender",h),this.invalidateCache=function(){}}},gantt._smart_render.initCache(),gantt.attachEvent("onGanttScroll",function(c,d,f,b){gantt.config.smart_rendering&&d!=b&&gantt._smart_render.updateRender()}),gantt.attachEvent("onDataRender",function(){gantt.config.smart_rendering&&gantt._smart_render.updateRender()}),function(){function a(d,f){return function(){return gantt.config.smart_rendering?f.apply(this,arguments):d.apply(this,arguments)}}var b=gantt._get_task_filters;gantt._get_task_filters=a(gantt._get_task_filters,function(){var d=b.call(gantt);return d.push(function(e){return gantt.config.smart_rendering?gantt._smart_render.isTaskDisplayed(e):!0}),d});var c=gantt._get_link_filters;gantt._get_link_filters=a(gantt._get_link_filters,function(){var d=c.call(gantt);return d.push(function(e){return gantt.config.smart_rendering?gantt._smart_render.isLinkDisplayed(e):!0}),d}),gantt._get_data_range=a(gantt._get_data_range,function(){return this._smart_render.getRange()})}();